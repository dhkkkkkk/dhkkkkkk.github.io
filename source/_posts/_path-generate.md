---
title: 轨迹生成
date: 2025-10-31 09:10:52
tags: 机器人学
mathjax: true
---

当我们确定了机器人末端的移动轨迹后，我们需要计算出**每个关节的转角、角速度、角加速度**才能让机器人真正实现目标轨迹的运动

# 关节空间规划

以关节角的函数来描述轨迹的生成

当确定每个路径点的坐标系位姿（工具坐标系在{W}下的位姿表示）后，可以通过逆运动学将中间点转换为一组关节角。

## 三次多项式

当已知机器人末端初始、目标位置后，**通过逆运动学可以得到两个状态的关节角组**，现在我们需要确定每个关节角的运动曲线函数，基于以下四个约束条件：
$$
\theta(0)=\theta_0 \\
\theta(t_f)=\theta_{f} \\
\dot{\theta}(0)=0 \\
\dot{\theta}(t_f)=0
$$
对于该四个约束条件，可以通过一个次数至少为3的多项式确定：
$$
\theta(t)=a_0+a_1t+a_2t^2+a_3t^3
$$
通过带入四个约束条件即可解出四个系数

**当要约束加速度时，则需要使用五次多项式**

### 具有中间点的情况

当我们希望末端位置不仅限于初始和结束两个点时，可以通过设置中间点，再在**每两个点之间进行三次多项式的构建**，不过此时对于中间点的速度约束条件不再是0，因此需要确定中间点处的期望关节速度，可以使用以下方法：

* **当可以确定末端的笛卡尔速度**时，由于可通过逆运动学求出关节角，因此可以通过计算中间点的雅可比逆矩阵以映射出关节速度（不适用于奇异位置）
* 通过一些启发式方法（匀速假设，加速度连续等等），取一个适当的关节速度

## 抛物线拟合

先直接生成直线轨迹，再对直线进行抛物线拟合（同样适用于具有中间点的情况），具体拟合感觉方法很多，不进行展开了

# 笛卡尔空间规划

对于关节空间规划，其给出的末端路线是未知的，因此对于末端路线轨迹有严格要求的任务，关节空间规划并不适用。
